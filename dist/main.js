(()=>{"use strict";const e=document.querySelector(".main-slider").querySelectorAll(".slide"),t=document.querySelector(".services-slider"),l=t.querySelectorAll(".slide"),s=document.querySelector(".gallery-slider"),c=s.querySelectorAll(".slide"),o=document.createElement("ul");o.classList="slider-dots",s.appendChild(o);let a=0,n=4;const r=document.querySelector(".top-menu"),d=document.querySelector(".about-club"),i=document.getElementById("totop");i.style.display="none";let u=r.getBoundingClientRect().top,m=d.getBoundingClientRect().bottom;const p={1:1999,6:9900,9:13900,12:19900},y={1:2999,6:14990,9:21990,12:24990},v=document.querySelectorAll(".time>input"),g=document.getElementById("card_leto_mozaika"),h=document.getElementById("card_leto_schelkovo"),E=(document.getElementById("card_check"),document.getElementById("price-total"));(function(){const r=e=>{clearInterval(e)},d=e=>{const t=document.createElement("div");t.classList="slider-arrow prev";const l=document.createElement("span");l.classList="arrow arrow-left",t.append(l),e.appendChild(t)},i=e=>{const t=document.createElement("div");t.classList="slider-arrow next";const l=document.createElement("span");l.classList="arrow arrow-right",t.append(l),e.appendChild(t)};d(s),i(s),d(t),i(t);const u=(e,t,l=[],s="")=>{e[t].style.display="none",s&&l[t].classList.remove(s)},m=(e,t,l=[],s="")=>{e[t].style.display="inline-block",s&&l[t].classList.add(s)};(()=>{let t,l=0;const s=()=>{u(e,l),l++,l>=e.length&&(l=0),m(e,l)};((e=3e3)=>{t=setInterval(s,e)})()})(),(()=>{let e;l.forEach(((e,t)=>{t>=5&&(e.style.display="none")}));const s=(e=1,t=1)=>{a>4&&(a=0,n=4),a+=e,n+=t,a<0&&(a=4,n=8),l.forEach(((e,t)=>{t>=a&&t<=n?e.style.display="block":(t<a||t>n)&&(e.style.display="none")}))},c=()=>{e=setInterval(s,2100)};c(),t.addEventListener("mouseover",(t=>{t.target.matches(".arrow")&&r(e)})),t.addEventListener("mouseout",(e=>{e.target.matches(".arrow")&&c()})),t.addEventListener("click",(e=>{e.preventDefault();const t=e.target;t.matches(".arrow")&&(t.matches(".arrow-right")?s(1,1):t.matches(".arrow-left")&&s(-1,-1))}))})(),(()=>{console.log(c.length);const e=[],t=[];c.forEach(((l,s)=>{e[s]=document.createElement("li"),e[s].classList="slick",e[s].style.cssText="opacity: 1;",t[s]=document.createElement("button"),t[s].classList="dot",t[s].style.cssText="opacity: 1;",e[s].appendChild(t[s]),0===s?e[s].classList.add("slick-active"):s>=1&&(l.style.display="none"),o.appendChild(e[s])}));let l,a=0;const n=()=>{u(c,a,e,"slick-active"),a++,a>=c.length&&(a=0),m(c,a,e,"slick-active")},d=(e=1900)=>{l=setInterval(n,e)};d(),s.addEventListener("click",(e=>{e.preventDefault();const t=e.target;t.matches(".arrow, .dot")&&(u(c,a,document.querySelectorAll(".slick"),"slick-active"),t.matches(".arrow-right")?(a++,a>=c.length&&(a=0)):t.matches(".arrow-left")?(a--,a<0&&(a=c.length-1)):t.matches(".dot")&&document.querySelectorAll(".dot").forEach(((e,l)=>{t===e&&(a=l)})),m(c,a,document.querySelectorAll(".slick"),"slick-active"))})),s.addEventListener("mouseover",(e=>{(e.target.matches(".arrow")||e.target.matches(".dot"))&&r(l)})),s.addEventListener("mouseout",(e=>{(e.target.matches(".arrow")||e.target.matches(".dot"))&&d()}))})()})(),function(){const e=document.querySelector(".clubs-list"),t=document.getElementById("free_visit_form"),l=document.getElementById("callback_form"),s=document.getElementById("gift"),c=e.querySelector("ul"),o=c.querySelectorAll("li");let a=!1;document.addEventListener("click",(e=>{const n=e.target;console.log(n),n.closest(".clubs-list")&&!a?(c.style.display="block",a=!0):n!=o[0]&&n!=o[1]&&n!=c&&(c.style.display="none",a=!1),n.closest(".open-popup")?t.style.display="block":(n.closest(".close-form")||n.closest(".overlay"))&&(t.style.display="none"),n.closest(".callback-btn")?l.style.display="block":(n.closest(".close-form")||n.closest(".overlay"))&&(l.style.display="none"),n.closest(".fixed-gift")?(document.querySelector(".fixed-gift").style.display="none",s.style.display="block"):(n.closest(".close-form")||n.closest(".overlay")||n.matches(".close-btn"))&&(s.style.display="none"),n.matches('[src="images/menu-button.png"]')?document.querySelector(".popup-menu").style.display="flex":(n.matches('[src="images/delete.png"]')||n.matches("a"))&&(document.querySelector(".popup-menu").style.display="none")}))}(),document.addEventListener("scroll",(()=>{let e=window.pageYOffset;m<=e?i.style.display="block":m>=e&&(i.style.display="none"),document.documentElement.clientWidth<=768?(console.log(e),console.log(u),u<e?(r.style.cssText="position: fixed",r.style.top=e):u>=e&&(r.style.cssText='position: ""',r.style.top=u)):document.documentElement.clientWidth>=768&&(r.style.cssText='position: ""',r.style.top=u)})),function(){let e;document.getElementById("cards").addEventListener("input",(()=>{g.checked?v.forEach((t=>{t.checked&&(e=p[t.value])})):h.checked&&v.forEach((t=>{t.checked&&(e=y[t.value])})),"ТЕЛО2019"===document.getElementById("cards").querySelector('[placeholder="Промокод"]').value.toUpperCase()&&(e*=.7),E.textContent=e}))}(),document.addEventListener("input",(e=>{const t=e.target;t.matches('[placeholder="Ваше имя..."]')?t.value=t.value.replace(/[^ А-яа-я]/,""):t.matches('[placeholder="Ваш номер телефона..."]')&&(t.value=t.value.replace(/[^\d\+]/g,""))})),document.addEventListener("blur",(e=>{const t=e.target;t.matches('[placeholder="Ваше имя..."]')?(t.value=t.value.replace(/\s+/g," "),t.value=t.value.replace(/(\s\-)+/g,""),t.value=t.value.replace(/\-+/g,"-"),t.value=t.value.replace(/^[\s\-]+/gi,""),t.value=t.value.replace(/\w+/gi,""),t.value=t.value.replace(/\-$/gi,""),t.value&&(t.value=t.value.split(/\s+/).map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" "))):t.matches('[placeholder="Ваш номер телефона..."]')&&(t.value=t.value.replace(/^8{1}|^7|\+7/gi,"+7 "),t.value=t.value.replace(/^...([0-9]{3})/g,((e,t)=>`+7 ${t} `)),14!==t.value.length&&""!==t.value&&(t.value="",alert("Проверьте номер")))}),!0)})();